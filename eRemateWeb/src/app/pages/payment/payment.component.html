<div class="max-w-md mx-auto bg-white p-6 rounded-lg shadow-md mt-8">
  <h2 class="text-2xl font-bold mb-6 text-center">Procesar Pago</h2>

  @if (error) {
    <div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4">
      {{ error }}
    </div>
  }

  <form (ngSubmit)="procesarPago()" #paymentForm="ngForm">
    <div class="mb-4">
      <label for="monto" class="block text-sm font-medium text-gray-700 mb-2">
        Monto (USD)
      </label>
      <input
        type="number"
        id="monto"
        name="monto"
        [(ngModel)]="monto"
        step="0.01"
        min="0.01"
        required
        class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
        placeholder="0.00">
    </div>

    <div class="mb-6">
      <label for="metodoEntrega" class="block text-sm font-medium text-gray-700 mb-2">
        Método de Entrega
      </label>
      <select
        id="metodoEntrega"
        name="metodoEntrega"
        [(ngModel)]="metodoEntrega"
        required
        class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
        <option value="">Seleccione un método</option>
        @for (metodo of metodosEntrega; track metodo.value) {
          <option [value]="metodo.value">{{ metodo.label }}</option>
        }
      </select>
    </div>

    <div class="flex gap-3">
      <app-primary-button
        [text]="loading ? 'Procesando...' : 'Pagar con PayPal'"
        [disabled]="loading || !paymentForm.form.valid"
        type="submit"
        class="flex-1">
      </app-primary-button>
      
      <button
        type="button"
        (click)="cancelar()"
        [disabled]="loading"
        class="flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 disabled:opacity-50">
        Cancelar
      </button>
    </div>
  </form>

  <div class="mt-4 text-center">
    <img src="https://www.paypalobjects.com/webstatic/mktg/Logo/pp-logo-200px.png" 
         alt="PayPal" 
         class="h-8 mx-auto">
  </div>
</div>
